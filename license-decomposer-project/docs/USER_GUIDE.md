# License Splitter 用户手册

## 📖 快速开始

### 安装应用
1. 下载 `License-Splitter-v1.0.5-final.dmg` 文件
2. 双击 DMG 文件进行挂载
3. 将 `License Splitter.app` 拖拽到 `Applications` 文件夹
4. 在启动台或应用程序文件夹中启动应用

### 首次使用
1. 准备一个加密的 JSON 许可证文件
2. 确认您有解密密码
3. 启动 License Splitter 应用

## 🎯 主要功能

### 1. 基本解密操作

#### 选择文件
- **点击浏览**: 点击"浏览..."按钮选择文件
- **拖拽操作**: 直接拖拽文件到输入框

#### 输入密码
- 在"🔐 解密码"输入框中输入密码
- 点击"👁️ 显示密码"按钮可切换密码显示/隐藏

#### 开始解密
- 点击"🚀 开始分解"按钮
- 等待解密完成
- 查看右侧的分解结果

### 2. 结果操作

#### 查看许可证
- 解密成功后，右侧会显示所有许可证
- 每个许可证显示为独立的项目
- 可以滚动查看多个许可证

#### 复制许可证
- **单个复制**: 点击任意许可证项进行复制
- **批量复制**: 点击"📋 复制全部"按钮复制所有许可证

#### 保存结果
- 点击"💾 保存结果"按钮
- 选择保存位置和文件名
- 结果将保存为文本文件

### 3. 历史记录管理

#### 查看历史
- 点击"📚 历史记录"按钮切换到历史视图
- 历史记录按时间倒序排列 (最新的在前)
- 每条记录显示: 日期时间 (许可证数量) 文件名

#### 使用历史记录
- **单击**: 自动填入文件路径和密码
- **双击**: 直接解密并显示结果

#### 历史记录操作
- **右键菜单**: 在历史项目上右键
  - "复制全部": 重新解密并复制所有许可证
  - "删除此条": 删除该历史记录

#### 清空历史
- 在历史记录页面点击"🗑️ 清空历史"按钮
- 确认后清空所有历史记录

### 4. 高级功能

#### 状态显示
- 应用底部状态栏显示当前操作状态
- 成功/失败消息会自动消失

#### 错误处理
- 密码错误时会显示友好的错误提示
- 文件格式错误时会给出具体建议

## 🔧 设置与配置

### 默认路径
- **文件选择**: `~/Downloads` (用户下载目录)
- **保存结果**: `~/Downloads` (用户下载目录)  
- **历史记录**: `~/.license_splitter/history/` (隐藏目录)
  - 历史文件备份: `~/.license_splitter/history/[timestamp]_[filename].json`
  - 历史记录索引: `~/.license_splitter/history/history.json`

### 支持的文件格式
- **输入文件**: 加密的 JSON 文件 (任何扩展名)
- **输出文件**: 纯文本 (.txt)

### 加密算法支持
- **算法**: AES-256-CBC
- **密钥派生**: 兼容 OpenSSL EVP_BytesToKey
- **编码**: 自动尝试 UTF-8, Latin-1, CP1252

## ❓ 常见问题

### Q: 解密失败，提示"密码不正确"
**A**: 请检查：
- 密码是否正确输入
- 文件是否为正确的加密格式
- 文件是否完整下载

### Q: 无法启动应用
**A**: 请确认：
- macOS 版本 10.15 或更高
- 首次启动时允许运行未签名应用
- Python 3 环境正常

### Q: 拖拽文件不响应
**A**: 请尝试：
- 直接点击"浏览..."按钮选择文件
- 确认文件格式为 JSON
- 重启应用再试

### Q: 历史记录丢失
**A**: 历史记录存储在 `~/.license_splitter/history/`，请检查：
- 目录是否存在 (`ls -la ~/.license_splitter/`)
- 是否有读写权限
- `history.json` 文件是否损坏
- 备份文件是否完整 (`ls ~/.license_splitter/history/*.json`)

### Q: 复制功能不工作
**A**: 请检查：
- 是否有解密成功的许可证
- 系统剪贴板是否正常
- 尝试使用"保存结果"功能

## 🛡️ 安全说明

### 密码安全
- 应用不会明文存储密码
- 历史记录中的密码使用 Base64 编码
- 建议定期清理历史记录

### 文件安全
- 历史记录中会保留输入文件的副本
- 文件存储在本地用户目录 `~/.license_splitter/history/`

### 网络安全
- 应用完全离线工作
- 不会发送任何数据到外部服务器
- 所有处理都在本地完成

## 📞 技术支持

### 获取帮助
- 查看本用户手册
- 提交 GitHub Issue
- 联系开发团队

### 报告问题
请提供：macOS版本、应用版本、错误截图、复现步骤

### 功能建议  
欢迎提出界面优化、功能增强等改进建议

---

**License Splitter v1.0.5** - 让许可证管理变得简单！
